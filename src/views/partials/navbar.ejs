<nav class="navbar">
    <div class="logo sansation-bold">DBS<span>401</span></div>
    <ul class="nav-links sansation-regular">
        <!-- Common links for all users (logged in or not) -->
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>

        <% if (locals.isLoggedIn) { %>
            <!-- Show Users dropdown only to admin users -->
            <% if (locals.userRole==='admin' ) { %>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">Users <i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-menu">
                        <a href="/user/list" class="dropdown-item">Users Table</a>
                        <a href="/user/upload-meme" class="dropdown-item">Upload Meme</a>
                    </div>
                </li>
                <% } %>
                    <% } %>

                        <!-- Resources dropdown available to everyone -->
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle">Resources <i class="fas fa-chevron-down"></i></a>
                            <div class="dropdown-menu">
                                <a href="https://nodejs.org/docs/latest/api/documentation.html"
                                    class="dropdown-item">Documentation</a>
                                <a href="https://www.w3schools.com/nodejs/" class="dropdown-item">Tutorials</a>
                                <a href="https://nodejs.org/en/download" class="dropdown-item">Downloads</a>
                            </div>
                        </li>

                        <% if (locals.isLoggedIn) { %>
                            <!-- Profile dropdown for logged-in users -->
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle">
                                    <img src="<%= locals.avatarUrl || '/uploads/default_profile.webp' %>" alt="Profile"
                                        class="nav-profile-img">
                                    Profile <i class="fas fa-chevron-down"></i>
                                </a>
                                <div class="dropdown-menu">
                                    <a href="/user/profile" class="dropdown-item">My Account</a>
                                    <a href="/logout" class="dropdown-item">Logout</a>
                                </div>
                            </li>
                            <% } else { %>
                                <!-- Login link for non-logged in users -->
                                <li><a href="/login">Login</a></li>
                                <% } %>
    </ul>
</nav>